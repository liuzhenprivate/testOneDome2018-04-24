<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ArticleChapterTempMapper">
	
	
	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into TB_ARTICLE_CHAPTER_TEMP(
			ARTICLE_ID,	
			CHAPTER_NAME,	
			CHAPTER_NO,	
			CONTENT_URL,	
			CREATE_TIME,
			NUMBER_CHAPTER
		) values (
			#{ARTICLE_ID},	
			#{CHAPTER_NAME},	
			#{CHAPTER_NO},	
			#{CONTENT_URL},	
			#{CREATE_TIME},
			#{NUMBER_CHAPTER}
		)
	</insert>
	
	<!-- 列表(All) -->
	<select id="listAll" parameterType="pd" resultType="pd">
		select
				a.ARTICLE_CHAPTER_ID,	
				a.ARTICLE_ID,	
				a.CHAPTER_NAME,	
				a.CHAPTER_NO,	
				a.CONTENT_URL,	
				a.CREATE_TIME,
				a.NUMBER_CHAPTER
		from 
				TB_ARTICLE_CHAPTER_TEMP a 
		where
				a.ARTICLE_ID = #{ARTICLE_ID}
	</select>
	
	<!--查询指定书籍的第一章-->
	<select id="findByStart" parameterType="pd" resultType="pd">
		select 
			ARTICLE_CHAPTER_ID,
			ARTICLE_ID,	
			CHAPTER_NAME,	
			CHAPTER_NO,	
			CONTENT_URL,	
			CREATE_TIME,
			NUMBER_CHAPTER
		from 
			TB_ARTICLE_CHAPTER_TEMP 
		where
			ARTICLE_ID = #{ARTICLE_ID}
			ORDER BY ARTICLE_CHAPTER_ID asc
			LIMIT 1,1
	</select>
	
	<!-- 查询指定书籍的最后一章-->
	<select id="findByEnd" parameterType="pd" resultType="pd">
		select 
			ARTICLE_CHAPTER_ID,
			ARTICLE_ID,	
			CHAPTER_NAME,	
			CHAPTER_NO,	
			CONTENT_URL,	
			CREATE_TIME,
			NUMBER_CHAPTER
		from 
			TB_ARTICLE_CHAPTER_TEMP 
		where
			ARTICLE_ID = #{ARTICLE_ID}
			ORDER BY ARTICLE_CHAPTER_ID desc
			LIMIT 0,1
	</select>
	<!-- 删除-->
	<delete id="delAll" parameterType="pd">
		delete from TB_ARTICLE_CHAPTER_TEMP
		where 
			ARTICLE_ID = #{ARTICLE_ID}
	</delete>
</mapper>